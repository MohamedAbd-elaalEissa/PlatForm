import{a as at,b as St}from"./chunk-JZ4JSGY7.js";import{a as Et,b as Tt,c as Dt,d as Lt}from"./chunk-2HNB352I.js";import{a as Mt,b as It}from"./chunk-ZGD5TM3I.js";import{a as me,b as ue,c as ge,d as fe,e as _e,f as Ce}from"./chunk-D6C5HRHS.js";import{c as oe,d as ae,e as le,f as se,i as ce,j as pe,k as de}from"./chunk-ONA3RLDT.js";import{$ as ne,A as U,B as z,F as mt,G as te,J as ut,K as ht,L as ie,O as gt,P as ft,S as _t,T as Ct,U as vt,V as yt,W as bt,X as xt,Y as wt,_ as re,w as st,x as ct,y as pt,z as dt}from"./chunk-WWXKWVPM.js";import{c as he}from"./chunk-JWY7OHJZ.js";import{a as ot}from"./chunk-LCP6WAMI.js";import{Ab as ee,Ga as T,Hb as lt,Ib as W,Jb as R,Ka as D,Mb as B,Nb as j,Oa as et,_a as F,ab as A,db as O,e as Ze,gb as tt,hb as N,ib as it,kb as rt,p as $e,q as Z,v as $,x as De,z as G,zb as nt}from"./chunk-EIK6HXDD.js";import{$c as Xe,Ab as Re,Bb as P,Cc as Ye,Dc as Je,Hb as n,Ib as o,Jb as h,Nb as v,Pb as g,Qb as c,Ta as L,Ub as Be,Uc as J,Vb as je,Vc as X,Xb as Ue,Ya as s,Yb as ze,Z as Q,Za as b,Zb as He,_ as Ve,a as V,ac as qe,b as ke,bc as p,bd as E,ca as q,cc as K,db as Fe,dc as M,dd as Te,ec as Ke,fc as f,gc as _,hc as C,ic as Y,jb as S,jc as x,kb as Ae,la as m,lb as Oe,ma as u,nb as Ne,pa as Pe,pb as We,qb as y,tc as Ge,vc as Qe,xc as I,yb as d}from"./chunk-OT2PUON7.js";var Ht=["dt"],qt=()=>["name","country.name","representative.name","status"],Kt=()=>({"min-width":"75rem"}),Gt=()=>[10,20,30],kt=()=>({width:"450px"});function Qt(a,t){if(a&1){let e=v();n(0,"p-button",11),g("onClick",function(){m(e);let i=c();return u(i.openNew())}),o(),n(1,"p-button",12),g("onClick",function(){m(e);let i=c();return u(i.deleteSelectedProducts())}),o()}if(a&2){let e=c();s(),d("disabled",!e.selectedProducts||!e.selectedProducts.length)}}function Yt(a,t){if(a&1){let e=v();n(0,"p-button",13),g("onClick",function(){m(e);let i=c();return u(i.exportCSV())}),o()}}function Jt(a,t){if(a&1){let e=v();n(0,"div",14)(1,"h5",15),p(2,"Manage Products"),o(),n(3,"p-iconfield"),h(4,"p-inputicon",16),n(5,"input",17),g("input",function(i){m(e);let l=c(),w=qe(6);return u(l.onGlobalFilter(w,i))}),o()()()}}function Xt(a,t){a&1&&(n(0,"tr")(1,"th",18),h(2,"p-tableHeaderCheckbox"),o(),n(3,"th",19),p(4,"Code"),o(),n(5,"th",20),p(6," Name "),h(7,"p-sortIcon",21),o(),n(8,"th"),p(9,"Image"),o(),n(10,"th",22),p(11," Price "),h(12,"p-sortIcon",23),o(),n(13,"th",24),p(14," Category "),h(15,"p-sortIcon",25),o(),n(16,"th",26),p(17," Reviews "),h(18,"p-sortIcon",27),o(),n(19,"th",28),p(20," Status "),h(21,"p-sortIcon",29),o(),h(22,"th",30),o())}function Zt(a,t){if(a&1){let e=v();n(0,"tr")(1,"td",18),h(2,"p-tableCheckbox",31),o(),n(3,"td",30),p(4),o(),n(5,"td",19),p(6),o(),n(7,"td"),h(8,"img",32),o(),n(9,"td"),p(10),Ge(11,"currency"),o(),n(12,"td"),p(13),o(),n(14,"td")(15,"p-rating",33),C("ngModelChange",function(i){let l=m(e).$implicit;return _(l.rating,i)||(l.rating=i),u(i)}),o()(),n(16,"td"),h(17,"p-tag",34),o(),n(18,"td")(19,"p-button",35),g("click",function(){let i=m(e).$implicit,l=c();return u(l.editProduct(i))}),o(),n(20,"p-button",36),g("click",function(){let i=m(e).$implicit,l=c();return u(l.deleteProduct(i))}),o()()()}if(a&2){let e=t.$implicit,r=c();s(2),d("value",e),s(2),K(e.code),s(2),K(e.name),s(2),d("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,L)("alt",e.name),s(2),K(Qe(11,15,e.price,"USD")),s(3),K(e.category),s(2),f("ngModel",e.rating),d("readonly",!0),s(2),d("value",e.inventoryStatus)("severity",r.getSeverity(e.inventoryStatus)),s(2),d("rounded",!0)("outlined",!0),s(),d("rounded",!0)("outlined",!0)}}function $t(a,t){if(a&1&&h(0,"img",62),a&2){let e=c(2);d("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.product.image,L)("alt",e.product.image)}}function ei(a,t){a&1&&(n(0,"small",63),p(1,"Name is required."),o())}function ti(a,t){if(a&1){let e=v();n(0,"div",37),y(1,$t,1,2,"img",38),n(2,"div")(3,"label",39),p(4,"Name"),o(),n(5,"input",40),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.name,i)||(l.product.name=i),u(i)}),o(),y(6,ei,2,0,"small",41),o(),n(7,"div")(8,"label",42),p(9,"Description"),o(),n(10,"textarea",43),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.description,i)||(l.product.description=i),u(i)}),o()(),n(11,"div")(12,"label",44),p(13,"Inventory Status"),o(),n(14,"p-select",45),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.inventoryStatus,i)||(l.product.inventoryStatus=i),u(i)}),o()(),n(15,"div")(16,"span",46),p(17,"Category"),o(),n(18,"div",47)(19,"div",48)(20,"p-radiobutton",49),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.category,i)||(l.product.category=i),u(i)}),o(),n(21,"label",50),p(22,"Accessories"),o()(),n(23,"div",48)(24,"p-radiobutton",51),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.category,i)||(l.product.category=i),u(i)}),o(),n(25,"label",52),p(26,"Clothing"),o()(),n(27,"div",48)(28,"p-radiobutton",53),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.category,i)||(l.product.category=i),u(i)}),o(),n(29,"label",54),p(30,"Electronics"),o()(),n(31,"div",48)(32,"p-radiobutton",55),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.category,i)||(l.product.category=i),u(i)}),o(),n(33,"label",56),p(34,"Fitness"),o()()()(),n(35,"div",47)(36,"div",57)(37,"label",58),p(38,"Price"),o(),n(39,"p-inputnumber",59),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.price,i)||(l.product.price=i),u(i)}),o()(),n(40,"div",57)(41,"label",60),p(42,"Quantity"),o(),n(43,"p-inputnumber",61),C("ngModelChange",function(i){m(e);let l=c();return _(l.product.quantity,i)||(l.product.quantity=i),u(i)}),o()()()()}if(a&2){let e=c();s(),d("ngIf",e.product.image),s(4),f("ngModel",e.product.name),s(),d("ngIf",e.submitted&&!e.product.name),s(4),f("ngModel",e.product.description),s(4),f("ngModel",e.product.inventoryStatus),d("options",e.statuses),s(6),f("ngModel",e.product.category),s(4),f("ngModel",e.product.category),s(4),f("ngModel",e.product.category),s(4),f("ngModel",e.product.category),s(7),f("ngModel",e.product.price),s(4),f("ngModel",e.product.quantity)}}function ii(a,t){if(a&1){let e=v();n(0,"p-button",64),g("click",function(){m(e);let i=c();return u(i.hideDialog())}),o(),n(1,"p-button",65),g("click",function(){m(e);let i=c();return u(i.saveProduct())}),o()}}var ve=class a{constructor(t,e,r){this.productService=t;this.messageService=e;this.confirmationService=r}productDialog=!1;products=Fe([]);product;selectedProducts;submitted=!1;statuses;dt;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadDemoData()}loadDemoData(){this.productService.getProducts().then(t=>{this.products.set(t)}),this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],this.cols=[{field:"code",header:"Code",customExportHeader:"Product Code"},{field:"name",header:"Name"},{field:"image",header:"Image"},{field:"price",header:"Price"},{field:"category",header:"Category"}],this.exportColumns=this.cols.map(t=>({title:t.header,dataKey:t.field}))}onGlobalFilter(t,e){t.filterGlobal(e.target.value,"contains")}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}editProduct(t){this.product=V({},t),this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products.set(this.products().filter(t=>!this.selectedProducts?.includes(t))),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.confirmationService.confirm({message:"Are you sure you want to delete "+t.name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products.set(this.products().filter(e=>e.id!==t.id)),this.product={},this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})}findIndexById(t){let e=-1;for(let r=0;r<this.products().length;r++)if(this.products()[r].id===t){e=r;break}return e}createId(){let t="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}getSeverity(t){switch(t){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"info"}}saveProduct(){this.submitted=!0;let t=this.products();this.product.name?.trim()&&(this.product.id?(t[this.findIndexById(this.product.id)]=this.product,this.products.set([...t]),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.image="product-placeholder.svg",this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.products.set([...t,this.product])),this.productDialog=!1,this.product={})}static \u0275fac=function(e){return new(e||a)(b(ne),b(D),b(T))};static \u0275cmp=S({type:a,selectors:[["app-crud"]],viewQuery:function(e,r){if(e&1&&Ue(Ht,5),e&2){let i;ze(i=He())&&(r.dt=i.first)}},features:[Y([D,ne,T])],decls:19,vars:21,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["content",""],["footer",""],["styleClass","mb-6"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} products",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","Product Details",3,"visibleChange","visible","modal"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","Delete","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],[2,"min-width","16rem"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","price",2,"min-width","8rem"],["field","price"],["pSortableColumn","category",2,"min-width","10rem"],["field","category"],["pSortableColumn","rating",2,"min-width","12rem"],["field","rating"],["pSortableColumn","inventoryStatus",2,"min-width","12rem"],["field","inventoryStatus"],[2,"min-width","12rem"],[3,"value"],[1,"rounded",2,"width","64px",3,"src","alt"],[3,"ngModelChange","ngModel","readonly"],[3,"value","severity"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"flex","flex-col","gap-6"],["class","block m-auto pb-4",3,"src","alt",4,"ngIf"],["for","name",1,"block","font-bold","mb-3"],["type","text","pInputText","","id","name","required","","autofocus","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","description",1,"block","font-bold","mb-3"],["id","description","pTextarea","","required","","rows","3","cols","20","fluid","",3,"ngModelChange","ngModel"],["for","inventoryStatus",1,"block","font-bold","mb-3"],["inputId","inventoryStatus","optionLabel","label","optionValue","label","placeholder","Select a Status","fluid","",3,"ngModelChange","ngModel","options"],[1,"block","font-bold","mb-4"],[1,"grid","grid-cols-12","gap-4"],[1,"flex","items-center","gap-2","col-span-6"],["id","category1","name","category","value","Accessories",3,"ngModelChange","ngModel"],["for","category1"],["id","category2","name","category","value","Clothing",3,"ngModelChange","ngModel"],["for","category2"],["id","category3","name","category","value","Electronics",3,"ngModelChange","ngModel"],["for","category3"],["id","category4","name","category","value","Fitness",3,"ngModelChange","ngModel"],["for","category4"],[1,"col-span-6"],["for","price",1,"block","font-bold","mb-3"],["id","price","mode","currency","currency","USD","locale","en-US","fluid","",3,"ngModelChange","ngModel"],["for","quantity",1,"block","font-bold","mb-3"],["id","quantity","fluid","",3,"ngModelChange","ngModel"],[1,"block","m-auto","pb-4",3,"src","alt"],[1,"text-red-500"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,r){if(e&1){let i=v();n(0,"p-toolbar",8),y(1,Qt,2,1,"ng-template",null,0,I)(3,Yt,1,0,"ng-template",null,1,I),o(),n(5,"p-table",9,2),C("selectionChange",function(w){return m(i),_(r.selectedProducts,w)||(r.selectedProducts=w),u(w)}),y(7,Jt,6,0,"ng-template",null,3,I)(9,Xt,23,0,"ng-template",null,4,I)(11,Zt,21,18,"ng-template",null,5,I),o(),n(13,"p-dialog",10),C("visibleChange",function(w){return m(i),_(r.productDialog,w)||(r.productDialog=w),u(w)}),y(14,ti,44,12,"ng-template",null,6,I)(16,ii,2,0,"ng-template",null,7,I),o(),h(18,"p-confirmdialog")}e&2&&(s(5),d("value",r.products())("rows",10)("columns",r.cols)("paginator",!0)("globalFilterFields",x(16,qt))("tableStyle",x(17,Kt)),f("selection",r.selectedProducts),d("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",x(18,Gt)),s(8),P(x(19,kt)),f("visible",r.productDialog),d("modal",!0),s(5),P(x(20,kt)))},dependencies:[E,X,Xe,re,ie,gt,ft,xt,wt,N,F,A,tt,O,R,W,rt,ee,Lt,Dt,Tt,Et,j,B,It,Mt,te,mt,ht,ut,ct,st,de,pe,se,le,z,U,dt,pt,ue,me],encapsulation:2})};var be=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=S({type:a,selectors:[["app-empty"]],decls:5,vars:0,consts:[[1,"card"],[1,"font-semibold","text-xl","mb-4"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1),p(2,"Empty Page"),o(),n(3,"p"),p(4,"Use this page to start from scratch and place your custom content."),o()())},encapsulation:2})};var xe=(()=>{class a extends it{enterClass;leaveClass;root;rootMargin;threshold;once=!0;observer;resetObserver;isObserverActive=!1;animationState;animationEndListener;ngOnInit(){super.ngOnInit(),Te(this.platformId)&&this.renderer.setStyle(this.el.nativeElement,"opacity",this.enterClass?"0":"")}ngAfterViewInit(){super.ngAfterViewInit(),Te(this.platformId)&&this.bindIntersectionObserver()}get options(){return{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold}}bindIntersectionObserver(){this.observer=new IntersectionObserver(([e])=>{this.isObserverActive?e.boundingClientRect.top>0&&(e.isIntersecting?this.enter():this.leave()):e.isIntersecting&&this.enter(),this.isObserverActive=!0},this.options),setTimeout(()=>this.observer.observe(this.el.nativeElement),0),this.resetObserver=new IntersectionObserver(([e])=>{e.boundingClientRect.top>0&&!e.isIntersecting&&(this.el.nativeElement.style.opacity=this.enterClass?"0":"",G(this.el.nativeElement,[this.enterClass,this.leaveClass]),this.resetObserver.unobserve(this.el.nativeElement)),this.animationState=void 0},ke(V({},this.options),{threshold:0}))}enter(){this.animationState!=="enter"&&this.enterClass&&(this.el.nativeElement.style.opacity="",G(this.el.nativeElement,this.leaveClass),De(this.el.nativeElement,this.enterClass),this.once&&this.unbindIntersectionObserver(),this.bindAnimationEvents(),this.animationState="enter")}leave(){this.animationState!=="leave"&&this.leaveClass&&(this.el.nativeElement.style.opacity=this.enterClass?"0":"",G(this.el.nativeElement,this.enterClass),De(this.el.nativeElement,this.leaveClass),this.bindAnimationEvents(),this.animationState="leave")}bindAnimationEvents(){this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.el.nativeElement,"animationend",()=>{G(this.el.nativeElement,[this.enterClass,this.leaveClass]),!this.once&&this.resetObserver.observe(this.el.nativeElement),this.unbindAnimationEvents()}))}unbindAnimationEvents(){this.animationEndListener&&(this.animationEndListener(),this.animationEndListener=null)}unbindIntersectionObserver(){this.observer?.unobserve(this.el.nativeElement),this.resetObserver?.unobserve(this.el.nativeElement),this.isObserverActive=!1}ngOnDestroy(){this.unbindAnimationEvents(),this.unbindIntersectionObserver(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Pe(a)))(i||a)}})();static \u0275dir=Oe({type:a,selectors:[["","pAnimateOnScroll",""]],hostVars:2,hostBindings:function(r,i){r&2&&Re("p-animateonscroll",!0)},inputs:{enterClass:"enterClass",leaveClass:"leaveClass",root:"root",rootMargin:"rootMargin",threshold:[2,"threshold","threshold",Je],once:[2,"once","once",Ye]},features:[We,Ne]})}return a})(),we=(()=>{class a{static \u0275fac=function(r){return new(r||a)};static \u0275mod=Ae({type:a});static \u0275inj=Ve({})}return a})();var Se=class a{constructor(t){this.http=t}apiUrl=ot.apiUrl+"Teacher/";getAllTeachers(){return this.http.get(this.apiUrl+"GetAllTeachers")}static \u0275fac=function(e){return new(e||a)(q(Ze))};static \u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"})};var oi=()=>["/pages/chaptersDashboard"];function ai(a,t){if(a&1){let e=v();n(0,"div",4),g("click",function(){let i=m(e).$implicit,l=c();return u(l.saveInLocalStorage(i.teacherID))}),h(1,"img",5),n(2,"span",6),p(3),o(),n(4,"span",7),p(5),o(),n(6,"span",8),p(7),o()()}if(a&2){let e=t.$implicit;d("routerLink",x(9,oi)),s(),je("alt","",e.firstName," ",e.lastName,""),d("src","assets/demo/TeacherImg/"+e.imagesUrl,L),s(2),Ke(" ",e.firstName," ",e.lastName," "),s(2),M(" ",e.studySubject," "),s(2),M(" ",e.brief," ")}}var Me=class a{constructor(t,e,r){this.teachersService=t;this.signalRService=e;this.authService=r}teachers;email;ngOnInit(){this.getAllTeacher(),this.email=this.authService.getUserEmail(),this.signalRService.startConnection(this.email)}getAllTeacher(){this.teachersService.getAllTeachers().subscribe({next:t=>{this.teachers=t},error:t=>{console.error("Error fetching teachers:",t)}})}saveInLocalStorage(t){sessionStorage.setItem("teacherId",t)}static \u0275fac=function(e){return new(e||a)(b(Se),b(at),b(he))};static \u0275cmp=S({type:a,selectors:[["app-teachers"]],decls:4,vars:1,consts:[[1,"card","flex","flex-col","items-center","overflow-hidden"],[1,"h-[100%]"],[1,"flex","flex-wrap","justify-center","gap-8"],["pAnimateOnScroll","","enterClass","animate-enter fade-in-10 slide-in-from-t-20 animate-duration-1000","leaveClass","animate-leave fade-out-0","class","flex flex-col border border-primary-200 shadow-xl justify-center items-center max-w-lg rounded-3xl p-12 gap-6 cursor-pointer",3,"routerLink","click",4,"ngFor","ngForOf"],["pAnimateOnScroll","","enterClass","animate-enter fade-in-10 slide-in-from-t-20 animate-duration-1000","leaveClass","animate-leave fade-out-0",1,"flex","flex-col","border","border-primary-200","shadow-xl","justify-center","items-center","max-w-lg","rounded-3xl","p-12","gap-6","cursor-pointer",3,"click","routerLink"],[1,"w-56","h-56","rounded-full","object-cover","border-4","border-primary","dark:border-primary-400",3,"src","alt"],[1,"text-3xl","font-semibold","text-gray-900","dark:text-white"],[1,"text-primary-600","text-xl","font-semibold","dark:text-primary-400"],[1,"text-muted-color","text-lg","text-center","text-gray-700","dark:text-gray-300"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),y(3,ai,8,10,"div",3),o()()()),e&2&&(s(3),d("ngForOf",r.teachers))},dependencies:[we,xe,ce,E,J,$,Z],styles:["@keyframes _ngcontent-%COMP%_slidedown-icon{0%{transform:translateY(0)}50%{transform:translateY(20px)}to{transform:translateY(0)}}[_nghost-%COMP%]   .slidedown-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slidedown-icon;animation-duration:3s;animation-iteration-count:infinite}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{background-image:radial-gradient(var(--primary-300),var(--primary-600));border-radius:50%!important;color:var(--primary-color-text)}"]})};var H=class a{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.getAccessToken()?!0:(this.router.navigate(["/auth/login"]),!1)}static \u0275fac=function(e){return new(e||a)(q(he),q($e))};static \u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"})};var di=()=>["/pages/createNewChapter"],mi=()=>["/pages/teachers/videos-and-tasks"];function ui(a,t){if(a&1){let e=v();n(0,"div",14),g("click",function(){let i=m(e).$implicit,l=c();return u(l.saveInSessionStorage(i.chapterID))}),h(1,"img",15),n(2,"span",16),p(3),o(),n(4,"span",17),p(5),o()()}if(a&2){let e=t.$implicit,r=c();d("routerLink",x(6,mi)),s(),Be("alt","",e.chapterName," "),d("src","assets/Chapters/Chapter.jpeg",L),s(2),M(" ",e.chapterName," "),s(2),M(" ",r.getChapterAcademyLevel(e.academicLevelId)," ")}}var Ie=class a{constructor(t,e){this.tasksAndVideos=t;this.chaptersService=e;let r=sessionStorage.getItem("teacherId");r&&(this.teacherId=r)}teacherId;Filter;Chapters=[];academicLevelData=[];ngOnInit(){this.Filter={teacherId:this.teacherId,pageNumber:1,pageSize:25},this.getChapterData(),this.getAcademicLevelFilter()}getAcademicLevelFilter(){this.tasksAndVideos.getAllAcademicLevels().subscribe({next:t=>{this.academicLevelData=t}})}getChapterData(){this.chaptersService.getAllChapters(this.Filter).subscribe({next:t=>{this.Chapters=t.items},error:t=>{console.error("Error fetching teachers:",t)}})}saveInSessionStorage(t){sessionStorage.setItem("chapterId",t)}getChapterAcademyLevel(t){return this.academicLevelData.find(e=>e.academicLevelID==t)?.academicLevelName}onFilterChange(){this.getChapterData()}static \u0275fac=function(e){return new(e||a)(b(_e),b(Ce))};static \u0275cmp=S({type:a,selectors:[["app-chapters-dashboard"]],decls:16,vars:6,consts:[[1,"card"],["label","\u0625\u0636\u0627\u0641\u0629 \u0641\u0635\u0644","icon","pi pi-plus",1,"add-chapter-btn",3,"routerLink"],[1,"filters-container"],["variant","on",1,"filter-item"],["pInputText","","id","taskName","autocomplete","off",2,"width","100%",3,"ngModelChange","ngModel"],["for","taskName",2,"font-size","large"],[1,"pi","pi-search"],["variant","on",1,"w-full","md:w-56","filter-item"],["inputId","academicLevel","optionLabel","academicLevelName","optionValue","academicLevelID","styleClass","w-full",3,"ngModelChange","ngModel","options"],["for","academicLevel",2,"font-size","large"],[1,"card","flex","flex-col","items-center","overflow-hidden"],[1,"h-[100%]"],[1,"flex","flex-wrap","justify-center","gap-8"],["pAnimateOnScroll","","enterClass","animate-enter fade-in-10 slide-in-from-t-20 animate-duration-1000","leaveClass","animate-leave fade-out-0","class","flex flex-col border border-primary-200 shadow-xl justify-center items-center max-w-lg rounded-3xl p-12 gap-6 cursor-pointer",3,"routerLink","click",4,"ngFor","ngForOf"],["pAnimateOnScroll","","enterClass","animate-enter fade-in-10 slide-in-from-t-20 animate-duration-1000","leaveClass","animate-leave fade-out-0",1,"flex","flex-col","border","border-primary-200","shadow-xl","justify-center","items-center","max-w-lg","rounded-3xl","p-12","gap-6","cursor-pointer",3,"click","routerLink"],[1,"w-56","h-56","rounded-full","object-cover","border-4","border-primary","dark:border-primary-400",3,"src","alt"],[1,"text-3xl","font-semibold","text-gray-900","dark:text-white"],[1,"text-primary-600","text-xl","font-semibold","dark:text-primary-400"]],template:function(e,r){e&1&&(n(0,"div",0),h(1,"p-button",1),n(2,"div",2)(3,"p-floatlabel",3)(4,"input",4),C("ngModelChange",function(l){return _(r.Filter.chapterName,l)||(r.Filter.chapterName=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),o(),n(5,"label",5),h(6,"p-inputicon",6),p(7," \u0627\u0633\u0645 \u0627\u0644\u0641\u0635\u0644 "),o()(),n(8,"p-floatlabel",7)(9,"p-dropdown",8),C("ngModelChange",function(l){return _(r.Filter.academicLevelId,l)||(r.Filter.academicLevelId=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),o(),n(10,"label",9),p(11,"\u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062F\u0631\u0627\u0633\u064A\u0629"),o()()()(),n(12,"div",10)(13,"div",11)(14,"div",12),y(15,ui,6,7,"div",13),o()()()),e&2&&(s(),d("routerLink",x(5,di)),s(3),f("ngModel",r.Filter.chapterName),s(5),f("ngModel",r.Filter.academicLevelId),d("options",r.academicLevelData),s(6),d("ngForOf",r.Chapters))},dependencies:[we,xe,ce,E,J,$,Z,ae,oe,z,U,fe,ge,N,F,A,O,j,B,R,W],styles:[".filters-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.filter-item[_ngcontent-%COMP%]{flex:1}.add-chapter-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:20px;font-size:2rem;padding:10px 20px;z-index:10}.card[_ngcontent-%COMP%]{position:relative;padding-top:60px}"]})};var hi=()=>({"min-width":"50rem"}),gi=()=>({width:"100%"}),fi=()=>({width:"600px",height:"400px"});function _i(a,t){a&1&&(n(0,"tr")(1,"th",14),p(2,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0635\u0644"),o(),n(3,"th",14),p(4,"\u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062F\u0631\u0627\u0633\u064A\u0629"),o(),h(5,"th",15),o())}function Ci(a,t){if(a&1){let e=v();n(0,"input",23),C("ngModelChange",function(i){m(e);let l=c().$implicit;return _(l.chapterName,i)||(l.chapterName=i),u(i)}),o()}if(a&2){let e=c().$implicit;f("ngModel",e.chapterName)}}function vi(a,t){if(a&1&&p(0),a&2){let e=c().$implicit;M(" ",e.chapterName," ")}}function yi(a,t){if(a&1){let e=v();n(0,"p-dropdown",24),C("ngModelChange",function(i){m(e);let l=c().$implicit;return _(l.academicLevelId,i)||(l.academicLevelId=i),u(i)}),o()}if(a&2){let e=c().$implicit,r=c();P(x(4,gi)),f("ngModel",e.academicLevelId),d("options",r.academicLevelData)}}function bi(a,t){if(a&1&&h(0,"p-tag",25),a&2){let e=c().$implicit,r=c();d("value",r.getAcademicLevelName(e.academicLevelId))}}function xi(a,t){if(a&1){let e=v();n(0,"button",26),g("click",function(){m(e);let i=c().$implicit,l=c();return u(l.onRowEditInit(i))}),o()}}function wi(a,t){if(a&1){let e=v();n(0,"button",27),g("click",function(){m(e);let i=c().$implicit,l=c();return u(l.onRowEditSave(i))}),o()}}function Si(a,t){if(a&1){let e=v();n(0,"button",28),g("click",function(){m(e);let i=c(),l=i.$implicit,w=i.rowIndex,Wt=c();return u(Wt.onRowEditCancel(l,w))}),o()}}function Mi(a,t){if(a&1&&(n(0,"tr",16)(1,"td")(2,"p-cellEditor"),y(3,Ci,1,1,"ng-template",17)(4,vi,1,1,"ng-template",18),o()(),n(5,"td")(6,"p-cellEditor"),y(7,yi,1,5,"ng-template",17)(8,bi,1,1,"ng-template",18),o()(),n(9,"td")(10,"div",19),y(11,xi,1,0,"button",20)(12,wi,1,0,"button",21)(13,Si,1,0,"button",22),o()()()),a&2){let e=t.$implicit,r=t.editing;d("pEditableRow",e),s(11),d("ngIf",!r),s(),d("ngIf",r),s(),d("ngIf",r)}}function Ii(a,t){a&1&&(n(0,"div",36),p(1,"\u0627\u0636\u0627\u0641\u0647 \u0641\u0635\u0644"),o())}function Ei(a,t){if(a&1){let e=v();n(0,"div")(1,"p-dialog",29),C("visibleChange",function(i){m(e);let l=c();return _(l.visible,i)||(l.visible=i),u(i)}),y(2,Ii,2,0,"ng-template",11),n(3,"div",30)(4,"p-floatlabel",31)(5,"p-dropdown",8),C("ngModelChange",function(i){m(e);let l=c();return _(l.newChapter.academicLevelId,i)||(l.newChapter.academicLevelId=i),u(i)}),o(),n(6,"label",9),p(7,"\u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062F\u0631\u0627\u0633\u064A\u0629"),o()(),n(8,"p-floatlabel",32)(9,"input",4),C("ngModelChange",function(i){m(e);let l=c();return _(l.newChapter.chapterName,i)||(l.newChapter.chapterName=i),u(i)}),o(),n(10,"label",5),p(11," \u0627\u0633\u0645 \u0627\u0644\u0641\u0635\u0644 "),o()()(),n(12,"div",33)(13,"p-button",34),g("click",function(){m(e);let i=c();return u(i.visible=!1)}),o(),n(14,"p-button",35),g("click",function(){m(e);let i=c();return u(i.createChapter())}),o()()()()}if(a&2){let e=c();s(),P(x(7,fi)),d("modal",!0),f("visible",e.visible),s(4),f("ngModel",e.newChapter.academicLevelId),d("options",e.academicLevelData),s(4),f("ngModel",e.newChapter.chapterName)}}var Ee=class a{constructor(t,e,r,i){this.tasksAndVideos=t;this.confirmationService=e;this.chapters=r;this.messageService=i;let l=sessionStorage.getItem("teacherId");l&&(this.teacherId=l)}teacherId;academicLevelData=[];Filter;Chapters=[];academicLevelId;clonedChapter={};statuses;visible=!1;newChapter;ngOnInit(){this.Filter={teacherId:this.teacherId,pageNumber:1,pageSize:25},this.getChapterData(),this.getAcademicLevelFilter()}getAcademicLevelFilter(){this.tasksAndVideos.getAllAcademicLevels().subscribe({next:t=>{this.academicLevelData=t}})}getChapterData(){this.chapters.getAllChapters(this.Filter).subscribe({next:t=>{this.Chapters=t.items},error:t=>{console.error("Error fetching teachers:",t)}})}onRowEditInit(t){t?.chapterID!==void 0&&(this.clonedChapter[t.chapterID]=V({},t))}onRowEditSave(t){if(console.log("\u{1F680} ~ ChaptersComponent ~ onRowEditSave ~ chapter:",t),t.chapterName&&t.chapterID&&t.academicLevelId){let e={ChapterID:t.chapterID,teacherId:t.teacherId,academicLevelId:t.academicLevelId,chapterName:t.chapterName};this.chapters.updateChapter({chapter:e}).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B",detail:"\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0641\u0635\u0644 \u0628\u0646\u062C\u0627\u062D"}),delete this.clonedChapter[t.chapterID]},error:()=>{this.messageService.add({severity:"error",summary:"\u062E\u0637\u0623",detail:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u0639\u062F\u064A\u0644"})}})}}onRowEditCancel(t,e){t?.chapterID!==void 0&&(this.Chapters[e]=this.clonedChapter[t.chapterID],delete this.clonedChapter[t.chapterID])}confirmDelete(t){this.confirmationService.confirm({message:`\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641  "${t.chapterName}"\u061F`,header:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",icon:"pi pi-exclamation-triangle",acceptLabel:"\u0646\u0639\u0645",rejectLabel:"\u0625\u0644\u063A\u0627\u0621",accept:()=>{this.deleteChapter(t)}})}deleteChapter(t){t.chapterID&&this.chapters.deleteChapter(+t.chapterID).subscribe(()=>{this.Chapters=this.Chapters.filter(e=>e.chaptersID!==t.chapterID),this.messageService.add({severity:"success",summary:"\u062A\u0645 \u0627\u0644\u062D\u0630\u0641",detail:"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0641\u0635\u0644 \u0628\u0646\u062C\u0627\u062D"})})}createChapter(){if(!this.newChapter||!this.newChapter.chapterName||this.newChapter.academicLevelId==null){this.messageService.add({severity:"error",summary:"\u062E\u0637\u0623",detail:"\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629: \u0627\u0633\u0645 \u0627\u0644\u0641\u0635\u0644 \u0648 \u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062F\u0631\u0627\u0633\u064A\u0629.",life:3e3});return}this.chapters.createChapter({chapter:this.newChapter}).subscribe(()=>{this.messageService.add({severity:"success",summary:"\u062A\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D",detail:"\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0635\u0644 \u0628\u0646\u062C\u0627\u062D.",life:3e3}),this.getChapterData()},()=>{this.messageService.add({severity:"error",summary:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0625\u0636\u0627\u0641\u0629",detail:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0635\u0644.",life:3e3})})}getAcademicLevelName(t){let e=this.academicLevelData.find(r=>r.academicLevelID===t);return e?e.academicLevelName:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}onFilterChange(){this.getChapterData()}showDialog(){this.visible=!0,this.newChapter={},this.newChapter={teacherId:this.teacherId}}static \u0275fac=function(e){return new(e||a)(b(_e),b(T),b(Ce),b(D))};static \u0275cmp=S({type:a,selectors:[["app-chapters"]],features:[Y([D,T])],decls:18,vars:7,consts:[[1,"card"],["label","\u0625\u0636\u0627\u0641\u0629 \u0641\u0635\u0644","icon","pi pi-plus",1,"add-chapter-btn",3,"click"],[1,"filters-container"],["variant","on",1,"filter-item"],["pInputText","","id","taskName","autocomplete","off",2,"width","100%",3,"ngModelChange","ngModel"],["for","taskName",2,"font-size","large"],[1,"pi","pi-search"],["variant","on",1,"w-full","md:w-56","filter-item"],["inputId","academicLevel","optionLabel","academicLevelName","optionValue","academicLevelID","styleClass","w-full",3,"ngModelChange","ngModel","options"],["for","academicLevel",2,"font-size","large"],["dataKey","chaptersID","editMode","row",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[2,"width","33%"],[2,"width","17%"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","items-center","justify-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","text","","rounded","","severity","secondary",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","text","","rounded","","severity","success",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","text","","rounded","","severity","danger",3,"click",4,"ngIf"],["pInputText","","type","text",3,"ngModelChange","ngModel"],["optionLabel","academicLevelName","optionValue","academicLevelID","inputId","academicLevel","appendTo","body",3,"ngModelChange","ngModel","options"],[3,"value"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","text","","rounded","","severity","secondary",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","text","","rounded","","severity","success",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","text","","rounded","","severity","danger",3,"click"],["header","\u0627\u0636\u0627\u0641\u0647 \u0641\u0635\u0644",3,"visibleChange","modal","visible"],[1,"flex","items-center","gap-4","mb-4","mt-4"],["variant","on",1,"w-full","md:w-56","filter-item",2,"margin-top","10px"],["variant","on",1,"filter-item",2,"margin-top","10px"],[1,"flex","justify-end","gap-2",2,"margin-top","200px"],["label","Cancel","severity","secondary",3,"click"],["label","Save","severity","success",3,"click"],[1,"custom-header"]],template:function(e,r){e&1&&(h(0,"p-toast")(1,"p-confirmDialog"),n(2,"div",0)(3,"p-button",1),g("click",function(){return r.showDialog()}),o(),n(4,"div",2)(5,"p-floatlabel",3)(6,"input",4),C("ngModelChange",function(l){return _(r.Filter.chapterName,l)||(r.Filter.chapterName=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),o(),n(7,"label",5),h(8,"p-inputicon",6),p(9," \u0627\u0633\u0645 \u0627\u0644\u0641\u0635\u0644 "),o()(),n(10,"p-floatlabel",7)(11,"p-dropdown",8),C("ngModelChange",function(l){return _(r.Filter.academicLevelId,l)||(r.Filter.academicLevelId=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),o(),n(12,"label",9),p(13,"\u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062F\u0631\u0627\u0633\u064A\u0629"),o()()(),n(14,"p-table",10),y(15,_i,6,0,"ng-template",11)(16,Mi,14,4,"ng-template",12),o()(),y(17,Ei,15,8,"div",13)),e&2&&(s(6),f("ngModel",r.Filter.chapterName),s(5),f("ngModel",r.Filter.academicLevelId),d("options",r.academicLevelData),s(3),d("value",r.Chapters)("tableStyle",x(6,hi)),s(3),d("ngIf",r.visible))},dependencies:[re,ie,et,bt,_t,Ct,vt,yt,ee,nt,E,X,se,le,te,R,lt,W,j,B,N,F,A,O,ae,oe,z,U,fe,ge,ue,me,de,pe],styles:[".filters-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.filter-item[_ngcontent-%COMP%]{flex:1}.add-chapter-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:20px;font-size:2rem;padding:10px 20px;z-index:10}.card[_ngcontent-%COMP%]{position:relative;padding-top:60px}.custom-header[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700}"]})};var dn=[{path:"documentation",component:St},{path:"crud",component:ve},{path:"empty",component:be},{path:"teachers",component:Me,canActivate:[H]},{path:"chaptersDashboard",component:Ie,canActivate:[H]},{path:"createNewChapter",component:Ee,canActivate:[H]},{path:"teachers/videos-and-tasks",loadChildren:()=>import("./chunk-5OKMOIDH.js")},{path:"**",redirectTo:"/notfound"}];export{dn as default};
