<div class="card overflow-x-auto">
  <p-table
    #dt2
    [value]="studentAnswerData"
    dataKey="fileAnswersID"
    [paginator]="true"
    [lazy]="true"
    [rows]="Filter.pageSize"
    [totalRecords]="totalRecords"
    [rowsPerPageOptions]="[10, 25, 30]"
    [loading]="loading"
    (onLazyLoad)="loadStudents($event)"
    class="w-full"
  >
    <!-- Table header -->
    <ng-template pTemplate="header">
      <tr>
        <th class="w-[40px] text-center">#</th>
        <th>ملف الاجابه</th>
        <th>الطالب</th>
        <th>انزال الاجابه</th>
      </tr>
    </ng-template>

    <!-- Table body -->
    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
      <tr>
        <td class="text-center">{{ rowIndex + 1 }}</td>
        <td class="text-center break-words">{{ rowData.answerName }}</td>
        <td class="text-center break-words">{{ rowData.studentName }}</td>
        <td class="text-center">
          <button
            class="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded flex items-center gap-2 justify-center"
            (click)="downloadTask(rowData.answerName)"
          >
            <i class="pi pi-clipboard"></i>
            تحميل الاجابه
          </button>
        </td>
      </tr>
    </ng-template>

    <!-- Empty state -->
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="4" class="text-center">لا توجد بيانات</td>
      </tr>
    </ng-template>
  </p-table>
</div>
